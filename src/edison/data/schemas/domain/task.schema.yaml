$schema: https://json-schema.org/draft/2020-12/schema
$id: https://schemas.edison/core/task.schema.yaml
title: Edison Task Schema (Generic)
description: Project-agnostic task structure for Edison framework.
$comment: 'Related schemas: session.schema.yaml (session refs), qa.schema.yaml (validation/evidence)'
type: object
required:
- id
- title
- type
properties:
  id:
    type: string
    description: Unique task identifier
    pattern: ^task-[0-9]+$
    examples:
    - task-1
    - task-42
  title:
    type: string
    minLength: 1
  description:
    type: string
  type:
    type: string
    enum:
    - feature
    - bug
    - refactor
    - test
    - docs
    description: Generic task types
  status:
    type: string
    enum:
    - todo
    - wip
    - blocked
    - done
    - validated
    default: todo
    description: Task lifecycle status; must align with workflow.statemachine.task.states
      in workflow.yaml
  priority:
    type: string
    enum:
    - low
    - medium
    - high
    default: medium
  session:
    type: string
    pattern: ^session-[A-Za-z0-9_-]+$
  tddEvidence:
    type: object
    description: Paths to TDD evidence artifacts
    properties:
      red:
        type: string
        description: RED phase output path
        examples:
        - .project/qa/validation-evidence/w2-g4/RED-output.txt
      green:
        type: string
        description: GREEN phase output path
        examples:
        - .project/qa/validation-evidence/w2-g4/GREEN-output.txt
      refactor:
        type: string
        description: REFACTOR phase notes/output
        examples:
        - .project/qa/validation-evidence/w2-g4/REFACTOR-output.txt
    additionalProperties: false
  acceptanceCriteria:
    type: array
    items:
      type: string
      minLength: 1
  dependsOn:
    type: array
    description: Task identifiers this task depends on
    items:
      type: string
      pattern: ^task-[0-9]+$
additionalProperties: false
