{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Edison Commands Configuration",
  "type": "object",
  "properties": {
    "commands": {
      "type": "object",
      "properties": {
        "enabled": {"type": "boolean"},
        "platforms": {
          "type": "array",
          "items": {"enum": ["claude", "cursor", "codex"]}
        },
        "selection": {
          "type": "object",
          "properties": {
            "mode": {"enum": ["all", "domains", "explicit"]},
            "domains": {"type": "array", "items": {"type": "string"}},
            "exclude": {"type": "array", "items": {"type": "string"}}
          }
        },
        "definitions": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["id", "domain", "command", "short_desc", "cli"],
            "properties": {
              "id": {"type": "string"},
              "domain": {"type": "string"},
              "command": {"type": "string"},
              "short_desc": {"type": "string", "maxLength": 120},
              "full_desc": {"type": "string"},
              "cli": {"type": "string"},
              "args": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["name", "description"],
                  "properties": {
                    "name": {"type": "string"},
                    "description": {"type": "string"},
                    "required": {"type": "boolean"}
                  }
                }
              },
              "when_to_use": {"type": "string"},
              "related_commands": {
                "type": "array",
                "items": {"type": "string"}
              }
            }
          }
        }
      }
    }
  }
}
