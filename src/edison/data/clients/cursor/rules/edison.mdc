---
description: "Edison Framework Development Rules"
globs: ["**/*.py", "**/*.md", "**/*.yaml", "**/*.yml"]
alwaysApply: true
---

# Edison Framework Rules

<!-- section: principles -->
## Critical Principles (Non-Negotiable)

1. **STRICT TDD**: Write failing test FIRST (RED), then implement (GREEN), then refactor
2. **NO MOCKS**: Test real behavior, real code, real libs - NO MOCKS EVER
3. **NO LEGACY**: Delete old code completely - NO backward compatibility, NO fallbacks
4. **NO HARDCODED VALUES**: All config from YAML - NO magic numbers/strings in code
5. **100% CONFIGURABLE**: Every behavior must be configurable via YAML
6. **DRY**: Zero code duplication - extract to shared utilities
7. **SOLID**: Single Responsibility, Open/Closed, Liskov Substitution, Interface Segregation, Dependency Inversion
8. **KISS**: Keep It Simple, Stupid - no over-engineering
9. **YAGNI**: You Aren't Gonna Need It - remove speculative features
10. **ROOT CAUSE**: ALWAYS find and fix root causes, never dirty fixes
<!-- /section: principles -->

<!-- section: practices -->
## Development Practices

- When updating code, ALL related tests should be updated (unit, integration, e2e)
- When a test fails, analyze and fix the ROOT CAUSE - never simplify/skip tests
- Before implementing, search for existing patterns to reuse/extend
- Maintain strict coherence and unity across the codebase
<!-- /section: practices -->

<!-- section: testing -->
## Testing Guidelines

- Use `tmp_path` fixture for file system tests
- Use SQLite for database tests
- Use real HTTP clients with test servers
- Use pytest fixtures for setup/teardown
- FORBIDDEN: `unittest.mock`, `@patch`, `MagicMock`
<!-- /section: testing -->

<!-- section: composed-additions -->
<!-- Pack/project extensions go here -->
<!-- /section: composed-additions -->

