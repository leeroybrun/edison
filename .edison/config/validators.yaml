# Edison Project Validator Configuration
# Overrides for validators when developing Edison itself

validation:
  execution:
    timeout: 600  # 10 minutes for full test suite

  # Temporary overrides for faster Edison iteration:
  # - Keep only `global-claude` (blocking) + `global-codex` (advisory) enabled by default.
  # - Disable other always-run validators until session-close validation bundles are implemented.
  #
  # NOTE: This uses the v2 validator schema keys consumed by ValidatorRegistry/EngineRegistry.
  validators:
    global-codex:
      always_run: true
      blocking: false
      triggers: ["*"]
    global-claude:
      always_run: true
      blocking: true
      triggers: ["*"]
    global-gemini:
      always_run: false
      blocking: false
      triggers: []
    global-auggie:
      always_run: false
      blocking: false
      triggers: []
    security:
      always_run: false
      blocking: false
      triggers: []
    performance:
      always_run: false
      blocking: false
      triggers: []
    coderabbit:
      always_run: false
      blocking: false
      triggers: []

  # Edison-specific validator roster additions
  roster:
    specialized:
      # Python validator (from python pack)
      - id: python
        name: Python Validator
        model: codex
        interface: clink
        role: codereviewer
        palRole: validator-python
        specFile: specialized/python.md
        triggers:
          - "**/*.py"
          - "pyproject.toml"
        alwaysRun: true
        priority: 3
        blocksOnFail: true
        outputFormat: PythonReport
        reportSection: "Validator Findings & Verdicts > Python"

      # Edison architecture validator (project-specific)
      - id: edison-architecture
        name: Edison Architecture Validator
        model: codex
        interface: clink
        role: codereviewer
        palRole: validator-edison
        specFile: specialized/edison.md
        triggers:
          - "src/edison/**/*.py"
          - "{PROJECT_CONFIG_DIR}/**/*"
          - "src/edison/data/config/*.yaml"
        alwaysRun: true
        priority: 3
        blocksOnFail: true
        outputFormat: EdisonReport
        reportSection: "Validator Findings & Verdicts > Edison Architecture"

  # Edison-specific blocking validators
  blocking_validators:
    - global-codex
    - global-claude
    - security
    - python
    - edison-architecture

  # Approval criteria for Edison project
  approvalCriteria:
    specializedValidators:
      python: "MUST approve (blocks task on fail)"
      edison-architecture: "MUST approve (blocks task on fail)"
