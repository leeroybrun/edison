---
id: "26.11-wave3-plan-tasks-list-command"
title: "Plan CLI: list tasks for a plan (edison plan tasks)"
type: feature
owner:
session_id:
parent_id:
child_ids:
depends_on:
  - "26.4-wave1-plan-cli-core"
  - "26.5-wave2-task-plan-id-and-resource-locks"
blocks_tasks:
related:
  - "26.1-wave1-meta-share-plans"
claimed_at:
last_active:
continuation_id:
created_at: "2025-12-28T00:00:00Z"
updated_at: "2025-12-28T00:00:00Z"
tags:
  - plan-mode
  - cli
priority: medium
estimated_hours:
model:
---

# Plan CLI: list tasks for a plan (edison plan tasks)

## Summary

Implement `edison plan tasks <plan-id>` to list all tasks linked to a plan.

This provides the primary “bridge” UX after tasks are generated: any implementer/orchestrator can quickly load the plan and enumerate its tasks without hunting through directories.

## Required Reading

- `.project/plans/plan-1-plan-mode.md`
- `src/edison/core/task/index.py` (fast scanning) and `TaskRepository.find_all()`
- `src/edison/core/task/repository.py` (plan_id frontmatter parsing, added in task 26.5)

## Objectives

- [ ] Add `edison plan tasks <plan-id> [--state <state>] [--json]`:
  - default: all states
  - optional `--state todo|wip|blocked|done|validated` filters
- [ ] Output includes:
  - task ids, title, state
  - wave information when present in id (best-effort)

## Acceptance Criteria

- [ ] When tasks have `plan_id: <plan-id>`, the command finds them across all states (global + session-scoped tasks).
- [ ] Output is deterministic and stable across runs.
- [ ] JSON output schema is documented in the command help and includes `tasks: [...]` list.

## Technical Design

### Implementation approach
Prefer scanning (fast) over loading full entities:
- Extend `TaskIndex` / TaskSummary extraction to include `plan_id` and (optionally) `resource_locks`.
- `edison plan tasks` can call `TaskIndex.get_task_graph()` (or new helper) and filter by `plan_id`.

### States
Use `WorkflowConfig.get_states("task")` to enumerate valid task states; avoid hardcoding.

## Files to Create/Modify

```
# Add
src/edison/cli/plan/tasks.py

# Modify
src/edison/core/task/index.py
```
related:
  - "26.2-wave1-plan-domain-core"
